<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FlowPrime ‚Äî Cria√ß√£o de Sites & Servi√ßos de TI</title>
<meta name="description" content="Sites profissionais, manuten√ß√£o de TI e suporte. Valores justos para quem est√° come√ßando. Atendimento via WhatsApp." />
<meta name="theme-color" content="#0b1220" />
<style>
  /* ========== DESIGN (limpo & leve) ========== */
  :root{
    --bg:#0b1220; --panel:#0f172a; --soft:#111827; --text:#e6eef6; --muted:#9fb0c8;
    --brand:#06b6d4; --accent:#22c55e; --warn:#f59e0b;
    --glass: rgba(255,255,255,0.04); --ring: rgba(255,255,255,0.06);
    --radius:14px; --shadow: 0 18px 50px -28px rgba(0,0,0,.7);
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", monospace;
  }
  .light{
    --bg:#f5f8fb; --panel:#ffffff; --text:#071023; --muted:#475569; --glass: rgba(0,0,0,0.03); --ring: rgba(0,0,0,0.06);
    --shadow: 0 20px 60px -28px rgba(2,6,23,.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    background:
      radial-gradient(900px 600px at 90% -10%, rgba(34,211,238,0.08), transparent 30%),
      radial-gradient(700px 500px at -10% 110%, rgba(6,182,212,0.06), transparent 30%),
      var(--bg);
    color:var(--text); -webkit-font-smoothing:antialiased; line-height:1.5; scroll-behavior:smooth;
  }
  a{color:var(--brand);text-decoration:none}
  .container{max-width:1180px;margin:0 auto;padding:0 20px}

  /* Header */
  header{position:sticky;top:0;z-index:60;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);backdrop-filter:blur(6px);border-bottom:1px solid var(--ring)}
  .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
  .brand{display:flex;align-items:center;gap:12px;font-weight:800}
  .logo-mark{width:36px;height:36px;border-radius:9px;background:linear-gradient(135deg,var(--brand),#22d3ee);display:grid;place-items:center;color:#002;box-shadow:0 6px 18px -8px rgba(0,0,0,.5)}
  nav ul{display:flex;gap:14px;list-style:none;margin:0;padding:0}
  nav a{color:var(--text);padding:8px 10px;border-radius:9px;font-weight:600}
  nav a:hover, nav a.active{background:var(--glass);outline:1px solid var(--ring)}
  .actions{display:flex;gap:10px;align-items:center}
  .btn{display:inline-grid;place-items:center;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer;border:1px solid var(--ring);background:linear-gradient(135deg,var(--panel),color-mix(in oklab,var(--panel),#000 5%));color:var(--text)}
  .btn.primary{background:linear-gradient(135deg,var(--brand),#22d3ee);color:#022; border:0}
  .btn.ghost{background:transparent}

  /* Hero */
  .hero{padding:72px 0 36px}
  .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:34px;align-items:center}
  .kicker{display:inline-block;padding:6px 10px;background:rgba(255,255,255,0.03);border-radius:999px;color:var(--muted);font-weight:700;margin-bottom:12px}
  .hero h1{font-size:clamp(28px,5vw,46px);margin:6px 0;color:var(--text)}
  .lead{color:var(--muted);font-size:1.05rem;margin-bottom:18px}
  .price-pill{display:inline-grid;grid-auto-flow:column;gap:10px;padding:10px 14px;border-radius:999px;background:linear-gradient(90deg,#04202a 0%, rgba(255,255,255,0.02) 100%);align-items:center;border:1px solid var(--ring);font-weight:800}
  .price-big{font-family:var(--mono);font-size:20px;color:var(--brand)}

  /* Cards */
  .grid{display:grid;gap:18px}
  .g-3{grid-template-columns:repeat(3,1fr)}
  .card{background:var(--panel);padding:18px;border-radius:var(--radius);border:1px solid var(--ring);box-shadow:var(--shadow);transition:transform .22s}
  .card:hover{transform:translateY(-6px)}
  .service-ic{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,var(--brand),#22d3ee);color:#012;margin-bottom:12px;font-size:20px}

  /* Stats */
  .stats{display:flex;gap:18px;flex-wrap:wrap;margin:18px 0}
  .stat{background:linear-gradient(135deg, rgba(255,255,255,0.02), transparent);padding:12px;border-radius:12px;min-width:140px;text-align:center;border:1px solid var(--ring)}
  .stat .num{font-weight:900;font-size:22px;color:var(--brand)}
  .stat .lbl{color:var(--muted);font-size:13px}

  /* Portfolio */
  .portfolio .item{overflow:hidden;border-radius:12px;border:1px solid var(--ring);cursor:pointer}
  .portfolio img{display:block;width:100%;height:200px;object-fit:cover;transition:transform .45s}
  .portfolio .item:hover img{transform:scale(1.05)}
  .pill{position:absolute;left:12px;top:12px;background:rgba(0,0,0,0.42);color:#fff;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px}

  /* Testimonials */
  .slider{position:relative;overflow:hidden}
  .track{display:flex;gap:14px;transition:transform .55s ease}
  .slide{min-width:100%}

  /* Pricing */
  .pricing-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:18px}
  .price {font-weight:900;font-size:22px;color:var(--brand);margin:10px 0}
  .price small{font-weight:700;color:var(--muted);font-size:12px}

  /* Contact */
  .contact-area{display:grid;grid-template-columns:1fr 380px;gap:20px}
  @media(max-width:980px){.hero-grid{grid-template-columns:1fr}.contact-area{grid-template-columns:1fr}.g-3{grid-template-columns:repeat(2,1fr)}.nav ul{display:none}}
  @media(max-width:620px){.g-3{grid-template-columns:1fr}}

  /* Footer & utilities */
  footer{padding:28px 0;color:var(--muted);border-top:1px solid var(--ring);text-align:center;margin-top:28px}
  .progress{position:fixed;top:0;left:0;height:4px;background:linear-gradient(90deg,var(--brand),var(--accent));width:0%;z-index:90}
  .fab{position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,#25D366,#128C7E);color:#fff;font-weight:900;cursor:pointer;box-shadow:var(--shadow)}
  .top{position:fixed;right:18px;bottom:86px;padding:10px;border-radius:999px;background:var(--panel);display:none;border:1px solid var(--ring);cursor:pointer}
  .top.show{display:block}
  .muted{color:var(--muted)}
  /* reduced motion */
  @media (prefers-reduced-motion:reduce){*{transition:none!important}}
</style>
</head>
<body>
  <div class="progress" id="progress"></div>

  <header class="container nav" role="banner">
    <div class="brand">
      <div class="logo-mark">FP</div>
      <div>
        <div style="font-weight:900">FlowPrime</div>
        <div class="muted" style="font-size:12px">Sites & Servi√ßos de TI</div>
      </div>
    </div>

    <nav>
      <ul>
        <li><a href="#servicos">Servi√ßos</a></li>
        <li><a href="#precos">Pre√ßos</a></li>
        <li><a href="#portfolio">Portf√≥lio</a></li>
        <li><a href="#depoimentos">Depoimentos</a></li>
        <li><a href="#contato">Contato</a></li>
      </ul>
    </nav>

    <div class="actions">
      <button class="btn ghost" id="themeBtn" title="Alternar tema">üåì</button>
      <button class="btn primary" id="ctaTop">Pedir Or√ßamento</button>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero" id="home" aria-labelledby="heroTitle">
      <div class="hero-grid">
        <div>
          <div class="kicker">Oferta por tempo limitado</div>
          <h1 id="heroTitle">Seu site profissional a partir de <span class="price-big">R$ 499</span></h1>
          <p class="lead">Cria√ß√£o de sites institucionais, landing pages e lojas virtuais com pre√ßo justo para quem est√° come√ßando. Entrega r√°pida, suporte e otimiza√ß√£o b√°sica de SEO.</p>

          <div style="display:flex;gap:12px;align-items:center;margin:14px 0">
            <div class="price-pill">
              <div style="font-size:13px;color:var(--muted)">Site institucional</div>
              <div class="price-big">R$ 499</div>
            </div>
            <div class="price-pill">
              <div style="font-size:13px;color:var(--muted)">Landing Page</div>
              <div class="price-big">R$ 299</div>
            </div>
          </div>

          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <button class="btn primary" id="btnWhats">Contratar via WhatsApp</button>
            <button class="btn" id="btnPlanos">Ver Planos</button>
            <button class="btn ghost" id="btnPortfolio">Portf√≥lio</button>
          </div>

          <div class="stats" aria-hidden="false">
            <div class="stat"><div class="num" data-target="10">+0</div><div class="lbl">Projetos</div></div>
            <div class="stat"><div class="num" data-target="5">+0</div><div class="lbl">Clientes</div></div>
            <div class="stat"><div class="num" data-target="2">+0</div><div class="lbl">Anos</div></div>
          </div>

          <p class="muted">Valores especiais para freelancers e microempresas ‚Äî aceitamos parcelamento em at√© 12x.</p>
        </div>

        <div>
          <div class="card" aria-hidden="true">
            <h3 style="margin:0 0 12px">Por que escolher a FlowPrime?</h3>
            <ul style="list-style:none;padding:0;margin:0;display:grid;gap:10px">
              <li style="display:flex;gap:12px;align-items:center"><div class="service-ic">‚ö°</div><div><strong>Entrega r√°pida</strong><div class="muted" style="font-size:13px">Projetos em dias, n√£o semanas.</div></div></li>
              <li style="display:flex;gap:12px;align-items:center"><div class="service-ic">üîí</div><div><strong>Seguran√ßa</strong><div class="muted" style="font-size:13px">HTTPS e boas pr√°ticas desde o in√≠cio.</div></div></li>
              <li style="display:flex;gap:12px;align-items:center"><div class="service-ic">üí¨</div><div><strong>Suporte humano</strong><div class="muted" style="font-size:13px">Atendimento via WhatsApp com resposta r√°pida.</div></div></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="servicos">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>Servi√ßos</h2>
        <p class="muted">Tudo que seu neg√≥cio precisa online</p>
      </div>

      <div class="grid g-3" style="margin-top:14px;">
        <div class="card">
          <div class="service-ic">üåê</div>
          <h3>Cria√ß√£o de Sites</h3>
          <p class="muted">Site institucional, landing pages e portf√≥lio com design responsivo e SEO base.</p>
          <div class="price">R$ 499 <small style="color:var(--muted)">‚Äî a partir</small></div>
          <button class="btn primary" data-target="site" onclick="buyPlan('Site institucional ‚Äî R$ 499')">Pedir agora</button>
        </div>

        <div class="card">
          <div class="service-ic">üßæ</div>
          <h3>Landing Page</h3>
          <p class="muted">P√°gina √∫nica focada em convers√£o, ideal para campanhas.</p>
          <div class="price">R$ 299 <small style="color:var(--muted)">‚Äî √† vista</small></div>
          <button class="btn primary" data-target="landing" onclick="buyPlan('Landing Page ‚Äî R$ 299')">Pedir agora</button>
        </div>

        <div class="card">
          <div class="service-ic">üõ†Ô∏è</div>
          <h3>Manuten√ß√£o & Suporte</h3>
          <p class="muted">Atendimento t√©cnico, otimiza√ß√£o e atualiza√ß√µes.</p>
          <div class="price">R$ 80 <small style="color:var(--muted)">/hora</small></div>
          <div class="price" style="font-size:14px;color:var(--muted)">Pacote mensal: R$ 350/m√™s</div>
          <button class="btn primary" data-target="suporte" onclick="buyPlan('Suporte mensal ‚Äî R$ 350/m√™s')">Assinar</button>
        </div>
      </div>
    </section>

    <!-- PRICING & CALCULATOR -->
    <section id="precos">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>Planos & Valores</h2>
        <p class="muted">Valores justos para quem est√° come√ßando</p>
      </div>

      <div class="pricing-grid" style="margin-top:14px">
        <div class="card">
          <h3>B√°sico</h3>
          <div class="price">R$ 499 <small>/ projeto</small></div>
          <ul class="muted" style="list-style:none;padding-left:0">
            <li>At√© 5 p√°ginas</li><li>Formul√°rio + WhatsApp</li><li>SEO b√°sico</li>
          </ul>
          <button class="btn primary" onclick="buyPlan('Plano B√°sico ‚Äî R$ 499')">Escolher</button>
        </div>
        <div class="card">
          <h3>Landing</h3>
          <div class="price">R$ 299 <small>/ projeto</small></div>
          <ul class="muted" style="list-style:none;padding-left:0">
            <li>1 p√°gina de alta convers√£o</li><li>Integra√ß√£o WhatsApp</li><li>Entrega r√°pida</li>
          </ul>
          <button class="btn primary" onclick="buyPlan('Landing Page ‚Äî R$ 299')">Escolher</button>
        </div>
        <div class="card">
          <h3>E-commerce</h3>
          <div class="price">R$ 2.500 <small>/ projeto (base)</small></div>
          <ul class="muted" style="list-style:none;padding-left:0">
            <li>Cat√°logo + checkout</li><li>Meios de pagamento</li><li>Treinamento</li>
          </ul>
          <button class="btn primary" onclick="buyPlan('E-commerce ‚Äî R$ 2.500 (base)')">Escolher</button>
        </div>
      </div>

      <div class="card" style="margin-top:16px">
        <h3>Calculadora r√°pida</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px">
          <div>
            <label class="muted">P√°ginas (estimativa)</label>
            <input id="calcPages" type="number" min="1" value="5" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--ring);background:transparent;color:var(--text)">
          </div>
          <div>
            <label class="muted">E-commerce?</label>
            <select id="calcEcom" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--ring);background:transparent;color:var(--text)">
              <option value="no">N√£o</option><option value="yes">Sim</option>
            </select>
          </div>
          <div style="grid-column:1/-1;margin-top:8px">
            <strong>Estimativa: <span id="calcResult">R$ 1.490</span></strong>
            <div class="muted" style="font-size:13px">Valor aproximado ‚Äî or√ßamento final depende do escopo.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- PORTFOLIO -->
    <section id="portfolio">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>Portf√≥lio</h2>
        <p class="muted">Veja alguns exemplos</p>
      </div>

      <div class="grid g-3 portfolio" style="margin-top:14px;position:relative">
        <div class="item card" data-title="Projeto A ‚Äî Landing" data-img="https://picsum.photos/seed/a/900/600" data-desc="Landing com foco em convers√£o.">
          <div style="position:relative"><img src="https://picsum.photos/seed/a/900/600" alt="Projeto A"><span class="pill">Landing</span></div>
          <div style="padding-top:10px;display:flex;gap:8px">
            <button class="btn" onclick="openProject('https://example.com')">Ver site</button>
            <button class="btn ghost" onclick="openModal(this.closest('.item'))">Pr√©via</button>
          </div>
        </div>

        <div class="item card" data-title="Projeto B ‚Äî Institucional" data-img="https://picsum.photos/seed/b/900/600" data-desc="Site institucional responsivo.">
          <div style="position:relative"><img src="https://picsum.photos/seed/b/900/600" alt="Projeto B"><span class="pill">Institucional</span></div>
          <div style="padding-top:10px;display:flex;gap:8px">
            <button class="btn" onclick="openProject('https://example.com')">Ver site</button>
            <button class="btn ghost" onclick="openModal(this.closest('.item'))">Pr√©via</button>
          </div>
        </div>

        <div class="item card" data-title="Projeto C ‚Äî Loja" data-img="https://picsum.photos/seed/c/900/600" data-desc="E-commerce com cat√°logo e checkout.">
          <div style="position:relative"><img src="https://picsum.photos/seed/c/900/600" alt="Projeto C"><span class="pill">E-commerce</span></div>
          <div style="padding-top:10px;display:flex;gap:8px">
            <button class="btn" onclick="openProject('https://example.com')">Ver site</button>
            <button class="btn ghost" onclick="openModal(this.closest('.item'))">Pr√©via</button>
          </div>
        </div>
      </div>
    </section>

    <!-- MODAL PREVIA -->
    <div id="modal" style="display:none;position:fixed;inset:0;background:rgba(2,6,23,0.6);align-items:center;justify-content:center;z-index:80">
      <div style="background:var(--panel);border-radius:12px;padding:16px;max-width:880px;width:94%;border:1px solid var(--ring)">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong id="mTitle">T√≠tulo</strong>
          <button class="btn" onclick="closeModal()">Fechar</button>
        </div>
        <img id="mImg" src="" alt="Pr√©via" style="width:100%;border-radius:8px;margin-top:12px;max-height:480px;object-fit:cover">
        <p id="mDesc" class="muted" style="margin-top:8px"></p>
      </div>
    </div>

    <!-- DEPOIMENTOS -->
    <section id="depoimentos">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>Depoimentos</h2>
        <p class="muted">O que clientes falam</p>
      </div>
      <div style="margin-top:14px" class="slider card">
        <div class="track" id="track">
          <div class="slide card"><p>‚ÄúExcelente atendimento e entrega r√°pida. Recomendo!‚Äù</p><p class="muted">‚Äî Cliente A</p></div>
          <div class="slide card"><p>‚ÄúSite leve e muito bem estruturado.‚Äù</p><p class="muted">‚Äî Cliente B</p></div>
          <div class="slide card"><p>‚ÄúSuporte que realmente ajuda ‚Äî muito profissional.‚Äù</p><p class="muted">‚Äî Cliente C</p></div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>FAQ</h2>
        <p class="muted">Perguntas r√°pidas</p>
      </div>
      <div style="margin-top:12px">
        <details class="card"><summary><strong>Em quanto tempo meu site fica pronto?</strong></summary><div class="muted" style="padding-top:8px">Landing: 3‚Äì7 dias. Site institucional: 7‚Äì14 dias (depende do conte√∫do).</div></details>
        <details class="card"><summary><strong>Voc√™s fazem hospedagem?</strong></summary><div class="muted" style="padding-top:8px">Sim ‚Äî cuidamos do dom√≠nio, SSL e backups.</div></details>
        <details class="card"><summary><strong>Como pago?</strong></summary><div class="muted" style="padding-top:8px">Aceitamos PIX, transfer√™ncia e parcelamento via cart√£o (quando aplic√°vel).</div></details>
      </div>
    </section>

    <!-- CONTATO -->
    <section id="contato">
      <div style="display:flex;justify-content:space-between;align-items:end">
        <h2>Contato</h2>
        <p class="muted">Pronto para come√ßar?</p>
      </div>

      <div class="contact-area" style="margin-top:14px">
        <form id="mainForm" class="card" onsubmit="return sendWhats(event)">
          <div style="display:grid;gap:10px">
            <label>Nome (obrigat√≥rio)</label>
            <input id="fName" required placeholder="Seu nome" style="padding:10px;border-radius:8px;border:1px solid var(--ring);background:transparent;color:var(--text)">
            <label>Email (obrigat√≥rio)</label>
            <input id="fEmail" type="email" required placeholder="voce@exemplo.com" style="padding:10px;border-radius:8px;border:1px solid var(--ring);background:transparent;color:var(--text)">
            <label>Telefone / WhatsApp (obrigat√≥rio)</label>
            <input id="fPhone" required placeholder="(11) 9xxxx-xxxx" style="padding:10px;border-radius:8px;border:1px solid var(--ring);background:transparent;color:var(--text)">
            <label>Servi√ßo</label>
            <select id="fService" style="padding:10px;border-radius:8px;border:1px solid var(--ring);background:transparent;color:var(--text)">
              <option>Cria√ß√£o de site</option><option>Landing Page</option><option>Loja Virtual</option><option>Suporte</option><option>Outro</option>
            </select>
            <label>Mensagem</label>
            <textarea id="fMsg" placeholder="Me conta o que voc√™ precisa‚Ä¶" style="padding:10px;border-radius:8px;border:1px solid var(--ring);background:transparent;color:var(--text)"></textarea>
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn primary" type="submit">Enviar pelo WhatsApp</button>
              <button class="btn" type="button" onclick="window.location.href='mailto:contato@flowprime.com?subject=Or√ßamento'">Enviar por e-mail</button>
            </div>
          </div>
        </form>

        <aside style="min-width:260px">
          <div class="card">
            <h3>Contato r√°pido</h3>
            <p class="muted">Atendimento via WhatsApp</p>
            <p style="margin:8px 0"><strong>WhatsApp:</strong> <a href="tel:+5511914830656">+55 11 91483-0656</a></p>
            <p style="margin:8px 0"><strong>E-mail:</strong> <a href="mailto:contato@flowprime.com">contato@flowprime.com</a></p>
            <p class="muted" style="font-size:13px;margin-top:6px">Hor√°rio: Seg‚ÄìSex 09:30‚Äì18:30</p>
            <div style="margin-top:10px;display:flex;gap:8px">
              <button class="btn primary" onclick="openWhats('Ol√°! Quero mais informa√ß√µes sobre os servi√ßos.')">Chamar no WhatsApp</button>
              <button class="btn" onclick="window.location.href='#portfolio'">Ver portf√≥lio</button>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <footer>
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px">
        <div>
          <strong>FlowPrime</strong><div class="muted">Sites & Servi√ßos de TI ‚Ä¢ Valores justos</div>
        </div>
        <div class="muted">¬© <span id="year"></span> FlowPrime ‚Äî Todos os direitos reservados</div>
      </div>
    </footer>
  </main>

  <button class="fab" id="fab" title="WhatsApp">üí¨</button>
  <button class="top" id="topBtn" title="Voltar ao topo">‚ñ≤</button>

<script>
  /* ====== CONFIG ====== */
  const WHATSAPP = '5511914830656'; // seu n√∫mero
  const LOCALE = 'pt-BR';

  /* ====== UTIL & UI HOOKS ====== */
  const progress = document.getElementById('progress');
  const topBtn = document.getElementById('topBtn');
  const fab = document.getElementById('fab');
  const btnWhats = document.getElementById('btnWhats');
  const ctaTop = document.getElementById('ctaTop');
  const btnPlanos = document.getElementById('btnPlanos');
  const btnPortfolio = document.getElementById('btnPortfolio');
  const themeBtn = document.getElementById('themeBtn');

  // Theme persistence
  const setTheme = (t) => { document.documentElement.classList.toggle('light', t==='light'); localStorage.setItem('site-theme', t); };
  setTheme(localStorage.getItem('site-theme') || 'dark');
  themeBtn.onclick = () => setTheme(document.documentElement.classList.contains('light') ? 'dark' : 'light');

  // Scroll progress + top button
  window.addEventListener('scroll', ()=>{
    const h = document.documentElement;
    const pct = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
    progress.style.width = pct + '%';
    topBtn.classList.toggle('show', h.scrollTop > 500);
  });
  topBtn.onclick = ()=> window.scrollTo({top:0,behavior:'smooth'});

  // Simple reveal on scroll
  const reveals = document.querySelectorAll('.card, .hero, .slide, .portfolio .item, section h2');
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ e.target.style.opacity = 1; e.target.style.transform = 'none'; obs.unobserve(e.target) }
    });
  }, {threshold: .12});
  reveals.forEach(r=>{
    r.style.opacity = 0; r.style.transform = 'translateY(14px)';
    obs.observe(r);
  });

  // Stats counter
  function animateCounters(){
    document.querySelectorAll('.stat .num').forEach(el=>{
      const target = +el.getAttribute('data-target') || 0;
      const dur = 900;
      const steps = 30;
      let cur = 0;
      const inc = Math.max(1, Math.round(target/steps));
      const id = setInterval(()=> {
        cur += inc;
        if(cur >= target){ el.textContent = '+' + target; clearInterval(id) } else el.textContent = '+' + cur;
      }, dur/steps);
    });
  }
  // start when portfolio visible
  const port = document.getElementById('portfolio');
  new IntersectionObserver((e)=>{
    if(e[0].isIntersecting){ animateCounters(); }
  }, {threshold:.2}).observe(port);

  // Slide testimonials
  const track = document.getElementById('track');
  let idx = 0;
  const slides = track.children.length;
  function slideTo(i){ idx = (i + slides) % slides; track.style.transform = `translateX(-${idx*100}%)`; }
  document.getElementById('prev')?.addEventListener('click', ()=> slideTo(idx-1));
  document.getElementById('next')?.addEventListener('click', ()=> slideTo(idx+1));
  setInterval(()=> slideTo(idx+1), 7000);

  // Portfolio modal
  const modal = document.getElementById('modal');
  function openModal(item){
    const t = item.dataset.title || 'Projeto';
    const img = item.dataset.img || '';
    const desc = item.dataset.desc || '';
    document.getElementById('mTitle').textContent = t;
    document.getElementById('mImg').src = img;
    document.getElementById('mDesc').textContent = desc;
    modal.style.display = 'flex';
  }
  function closeModal(){ modal.style.display = 'none'; }
  window.openModal = openModal; window.closeModal = closeModal;

  // CTA buttons
  function openWhats(msg){
    const text = encodeURIComponent(msg);
    const url = `https://wa.me/${WHATSAPP}?text=${text}`;
    // Use window.location.href as primary navigation (per request)
    window.location.href = url;
  }
  window.openWhats = openWhats;

  btnWhats.onclick = ()=> openWhats('Ol√°! Quero um site profissional. Vi o site e quero or√ßamento. (FlowPrime)');
  fab.onclick = ()=> openWhats('Ol√°! Quero um or√ßamento ‚Äî vim pelo site.');

  // top cta
  ctaTop.onclick = ()=> window.location.href = '#contato';
  btnPlanos.onclick = ()=> window.location.href = '#precos';
  btnPortfolio.onclick = ()=> window.location.href = '#portfolio';

  // buy plan (buttons on cards)
  window.buyPlan = function(planText){
    const url = `https://wa.me/${WHATSAPP}?text=${encodeURIComponent('Quero contratar: ' + planText)}`;
    window.location.href = url;
  }

  // Open example project (uses location.href)
  window.openProject = function(href){
    // If external, open in new tab; but still using location when same origin
    try{ window.open(href, '_blank') } catch(e){ window.location.href = href }
  }

  // Calculator
  function calcEstimate(){
    const pages = Math.max(1, parseInt(document.getElementById('calcPages').value||5));
    const ecom = document.getElementById('calcEcom').value === 'yes';
    let base = 700 + (pages - 3) * 160;
    if(ecom) base += 1500;
    // rounding
    document.getElementById('calcResult').textContent = new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(Math.max(350, Math.round(base)));
  }
  document.getElementById('calcPages').addEventListener('input', calcEstimate);
  document.getElementById('calcEcom').addEventListener('change', calcEstimate);
  calcEstimate();

  // Contact form => opens WhatsApp with prefilled message
  function sendWhats(e){
    e.preventDefault();
    const name = document.getElementById('fName').value.trim();
    const email = document.getElementById('fEmail').value.trim();
    const phone = document.getElementById('fPhone').value.trim();
    const service = document.getElementById('fService').value;
    const msg = document.getElementById('fMsg').value.trim();
    if(!name || !email || !phone){ alert('Preencha nome, email e telefone.'); return false; }
    const text = `Ol√°! Solicito or√ßamento.%0A‚Ä¢ Nome: ${name}%0A‚Ä¢ Email: ${email}%0A‚Ä¢ Telefone: ${phone}%0A‚Ä¢ Servi√ßo: ${service}%0A‚Ä¢ Mensagem: ${msg || '-'}`;
    const url = `https://wa.me/${WHATSAPP}?text=${text}`;
    // primary: location.href (as requested), try open in new tab and fallback
    try{
      const w = window.open(url, '_blank');
      if(!w || w.closed || typeof w.closed === 'undefined'){ window.location.href = url; }
    }catch(err){ window.location.href = url; }
    return false;
  }
  window.sendWhats = sendWhats;

  // Modal hook for items that use openModal(this.closest('.item'))
  document.querySelectorAll('.portfolio .item').forEach(it=>{
    it.querySelector('img').addEventListener('click', ()=> openModal(it));
  });

  // Year
  document.getElementById('year').textContent = (new Date()).getFullYear();

  // Accessibility: allow Esc to close modal
  window.addEventListener('keydown', (e)=> { if(e.key === 'Escape'){ closeModal(); } });

</script>
</body>
</html>
